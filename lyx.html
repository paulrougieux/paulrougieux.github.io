<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Lyx Commands</title>

<script src="site_libs/header-attrs-2.11/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>





<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Paul Rougieux</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-wrench"></span>
     
    Tools
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="bash.html">Bash</a>
    </li>
    <li>
      <a href="communication.html">Communication</a>
    </li>
    <li>
      <a href="debian.html">Debian</a>
    </li>
    <li>
      <a href="docker.html">Docker</a>
    </li>
    <li>
      <a href="git.html">Git</a>
    </li>
    <li>
      <a href="learning.html">Learning</a>
    </li>
    <li>
      <a href="lyx.html">Lyx</a>
    </li>
    <li>
      <a href="mysql.html">MySQL</a>
    </li>
    <li>
      <a href="postgresql.html">PostgreSQL</a>
    </li>
    <li>
      <a href="publish.html">Publish</a>
    </li>
    <li>
      <a href="python.html">Python</a>
    </li>
    <li>
      <a href="R.html">R</a>
    </li>
    <li>
      <a href="vim.html">Vim</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-microchip"></span>
     
    Algos
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="clustering.html">Clustering</a>
    </li>
    <li>
      <a href="musical_scales.html">Musical scales</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-line-chart"></span>
     
    Data
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="explore.html">Explore</a>
    </li>
    <li>
      <a href="datasources.html">Sources</a>
    </li>
  </ul>
</li>
<li>
  <a href="events.html">
    <span class="fa fa-users"></span>
     
    Events
  </a>
</li>
<li>
  <a href="publications.html">
    <span class="fa fa-book"></span>
     
    Publications
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Lyx Commands</h1>

</div>


<p>The Lyx “What You See is What You Mean” editor is available at Lyx and from your package manager. Citations</p>
<p>Lyx nicely integrates with a bibtex bibliography. You can create a shortcut such as CTRL+SHIFT+C to insert a reference. A small menu will pop-up to choose from the references.</p>
<p>Unfortunately “BibTeX does not support files encoded in UTF-8”. To get characters such as “é” encoded correctly latin1 has to be used.This can be set as the database property in Jabref.</p>
<div id="shortcuts" class="section level1">
<h1>Shortcuts</h1>
<p>Under Tools / preferences / Editing / Shortcuts / Stackoverflow question on how to find the command name for a shortcut. I mapped:</p>
<pre><code>citation-insert to Ctrl+Alt+C 
href-insert to Ctrl+K
label-insert to Ctrl+Alt+L
statistics to Ctrl+Alt+T</code></pre>
<p>See also the Lyx wiki page on shortcuts.</p>
<p>Lyx shortcuts are storred in bind files. The default bind file is called cua. To restore default bind file, one can simply delete the user directory, as explained on this <a href="https://latex.org/forum/viewtopic.php?t=21551">forum post</a></p>
<p>See also the setup directory where I saved a bind file.</p>
</div>
<div id="bibliography" class="section level1">
<h1>Bibliography</h1>
<div id="bibliography-encoding" class="section level2">
<h2>Bibliography encoding</h2>
<p>bib file have an old encoding format. It’s possible to use utf8 in bibtex, but for compatibility reason I stick with the old format.</p>
<p><a href="https://tex.stackexchange.com/a/57745/44254">How to write “ä” and other umlauts and accented letters in bibliography?</a></p>
<pre><code>{\&quot;a} {\aa} 
{\c c}
{\^e} {\`e} {\&#39;e} 
{\u g}
{\`i} {\.I} 
{\l}
{\~n}
{\o} {\H o}
{\&#39;u}
{\v r} {\ss}</code></pre>
</div>
<div id="merge-and-filter-bibliographies" class="section level2">
<h2>Merge and filter bibliographies</h2>
<p>Answers to a question on merging 2 bibtex file recommend using Jabref file / import into current database.</p>
<p>Create a shorter bibliography with only cited documents from another bibliography Extracting only the BibTex records relevant to the paper. Answers recommend using bibtool or bibexport.</p>
<p>I have written an article in Lyx which cites 2 bibliographies and a colleague asked to have a .tex version of this article. Here is my recipe:</p>
<pre><code>Use Jabref to merge two bibliographies. 
Export Lyx file to LaTeX (PDFLaTeX).
Edit the .tex file to insert a link to the merged bibliographies. 
    \phantomsection\addcontentsline{toc}{section}{\refname}\bibliography{long.bib} 
Compile the .tex with TeXstudio. 
Used bibexport to extract a short bibliography corresponding only to the citations used in one article.

bibexport -o short.bib article.aux 

Replace long.bib by short.bib in the .tex file.</code></pre>
<p>I have done it 3 times already. Could I create a script that does all this automatically?</p>
</div>
</div>
<div id="encoding" class="section level1">
<h1>Encoding</h1>
<p>Lyx wiki <a href="https://wiki.lyx.org/LyX/Unicode">unicode</a></p>
<blockquote>
<p>Since version 1.5, LyX uses Unicode internally; the LyX file is always encoded in utf8.</p>
</blockquote>
<blockquote>
<p>The Menu Document&gt;Settings&gt;Language offers the Tab Encoding to specify the encoding of the LaTeX-file LyX produces. It is described in the UserGuide in Attachment A.6 “The Document Menu”: The encoding specifies how the document content is exported to LaTeX</p>
</blockquote>
</div>
<div id="conversion-from-lyx-to-markdown" class="section level1">
<h1>Conversion from lyx to Markdown</h1>
<p>I use the encoding option mentionned above to convert to latex, exported from lyx using the pdflatex format option. Then used pandoc to convert from latex to markdown. It keeps the citation references which is the most important thing I wanted to keep.</p>
</div>
<div id="install-dependencies" class="section level1">
<h1>Install dependencies</h1>
<div id="tex-packages" class="section level2">
<h2>Tex packages</h2>
<p>Tex packages are located at CTAN. Most of the time it’s sufficient to install them from the Debian repository. Some times the debian repository version is outdated. In that case you can try to install the packages from the backports:</p>
<pre><code>sudo vim /etc/apt/sources.list
# Add deb http://ftp.debian.org/debian stretch-backports main 
# Or a mirror, for example
# deb http://ftp.it.debian.org/debian stretch-backports main
sudo apt update
sudo apt-get -t stretch-backports install texlive-bibtex-extra</code></pre>
</div>
</div>
<div id="spell-checker" class="section level1">
<h1>Spell checker</h1>
<p>A spell checker can be activated under Tools / preferences / language settings / spellchecker. On my system the only spell check engine available is Enchant, “a wrapper that provides automatic access to many spell checking libraries (ispell, aspell, hspell, hunspell, etc.)”.</p>
<p>The button displaying a red-underlined A can be activated to spell check continuously. Language of document</p>
<p>Under Document / Settings / Language, it’s possible to change the document language, which will have an impact on the language used for spell checking. In my system compiling a document in French returned an error:</p>
<p>“Package babel Error: Unknown option `french’.”</p>
<p>This stackexchange post suggest installing the texlive-lang-french Debian package. This fixed the error. Math mode</p>
</div>
<div id="encoding-1" class="section level1">
<h1>Encoding</h1>
<p>This question on “how do I prevent Lyx from loading inputenc?” explains where this part of the Latex preamble is defined.</p>
<p>In Document &gt; Settings…, under Language &gt; Encoding, choose “Other” and select “Language Default (no inputenc)”.</p>
<p>Instead I replaced Latin1 by utf8 as input encoding. This works for the moment.</p>
<p>Instead I replaced Latin1 by utf8 as input encoding. This works for the moment.</p>
</div>
<div id="math" class="section level1">
<h1>Math</h1>
<p>Press CTRL+M at the cursor or on highlighted text to enter math mode. Latex syntax “”, “x_t” can be used to enter equations and is displayed directly as math symbols. Change input encoding</p>
<p><a href="https://tex.stackexchange.com/questions/153615/help-me-input-a-column-vector">How to enter a column vector</a> Has recommendations on how to enter matrix operations with sub-variables.</p>
</div>
<div id="fonts" class="section level1">
<h1>Fonts</h1>
<div id="icons" class="section level2">
<h2>Icons</h2>
<p>Font-awesome is available in the Debian Package “texlive-fonts-extra”. It can be used in Lyx by insterting <code>\usepackage{fontawesome}</code> in the Latex preamble. Then insert an icon with:</p>
<pre><code>\faComments
\faWrench</code></pre>
</div>
</div>
<div id="encoding-issues-and-greek-symbols-used-outside-math-mode" class="section level1">
<h1>Encoding issues and Greek symbols used outside math mode</h1>
<p>“Encoding file ‘lgrenc.def’ not found” was fixed by installing the debian package texlive-lang-greek (as explained here on stackoverflow). Other errors appeared related to the use of beta signs outside math mode. As one user explained on stackoverflow, placing signs in math mode usually fixes the issue. Hyperlinks in PDF</p>
</div>
<div id="how-to-change-hyperlink-colors-in-lyx" class="section level1">
<h1>How to change hyperlink colors in Lyx</h1>
<pre><code>Document &amp;gt; Settings &amp;gt; PDF Properties under the Additional options field. For example, a custom set of instructions may be the following: linkcolor=black, urlcolor=blue, citecolor=green, pdfstartview={FitH}, hyperfootnotes=false, unicode=true  </code></pre>
<p>I changed marineblue to blue, as my system complained that marineblue was not available.</p>
<p>The lyx function that creates hyperlinks is called href-insert. You can create a CTRL+K shortcut that inserts hyperlink under Tools / preferences / Editing / Shortcuts / “Cursor, Mouse and Editing functions” by inserting the function name: href-insert. Presentation template, called beamer</p>
<p>The beamer theme and color theme can be changed by inserting this in Document / Seetings / Latex preamble:</p>
<pre><code>\usetheme{Boadilla}

\usecolortheme{orchid}</code></pre>
<p>An overview of themes is available in the beamer theme matrix.</p>
<p>Here is an explanation on how to change to any other RGB colour. Beware the definition of RGB colours are unusual in Latex, divide values by 255.</p>
<pre><code>\definecolor{darkgreen}{rgb}{.2,.4,.2}

\usecolortheme[named=darkgreen]{structure}</code></pre>
<p>Slide numbering can be added to the beamer template. By inserting this code block in Document / Settings / latex preamble:</p>
<pre><code>\addtobeamertemplate{navigation symbols}{}{%
    \usebeamerfont{footline}%
    \usebeamercolor[fg]{footline}%
    \hspace{1em}%
    \insertframenumber/\inserttotalframenumber
}</code></pre>
<p>Tables too wide for a slide can be resized by placing the table between the following ERT. If there is a table float, this instruction has to be placed inside the table float.</p>
<pre><code>\resizebox{\linewidth}{!}{%

} </code></pre>
</div>
<div id="elsevier-article-template" class="section level1">
<h1>Elsevier article template</h1>
<p>Elsevier provides a latex template for articles called elsarticle which is usable in Lyx. However compiling with this template doesn’t seem to work when using the hyperref package with the general option “automatically fill header”. After deactivating this option, compilation works again.</p>
<p>The elsarticle template uses numerical references by default. it is possible to activate author year reference according to this stack exchange answer. Tips</p>
<pre><code>CTRL+D uses yap, a faster (on windows) previewer than the default PDF one. There is no noticeable difference on Linux.</code></pre>
</div>
<div id="other-templates" class="section level1">
<h1>Other templates</h1>
<p>To produce a meeting report with a wider template than the default article.</p>
<pre><code>I would have liked to find an overview of the templates with screenshots of PDF results. But I couldn&#39;t find such overview online. LyX wiki has a list of examples and a list of layouts. 
In fact all that was needed was to edit the Document \ Settings \ Page margins, I set the inner and out margins to 2 cm and was happy with the result.</code></pre>
</div>
<div id="knitr-and-lyx" class="section level1">
<h1>knitr and Lyx</h1>
<pre><code>Yihui Xie: Using knitr and Lyx
 Krishna Devulapalli: Creation of research papers with embedded R results using LyX</code></pre>
<p>My Lyx file uses many packages and formatting options. Export to RTF didn’t work and returned the error:</p>
<pre><code>&quot;An error occurred while running: latex2rtf&quot; </code></pre>
<p>I made a copy in a temporary directory (/tmp) and removed external packages and options in the latex preamble, before performing the conversion. Then the conversion to RTF worked.</p>
<p>Compare different versions of a document</p>
<p>Use Tools/Compare to highlight differences between a new and an old document. Then show changes in output to show changes in red and blue in the PDF output.</p>
<p>Alternatively, you can export the Lyx files to Latex and use Latexdiff as such:</p>
<pre><code>latexdiff draft.tex revision.tex &gt; diff.tex</code></pre>
<p>Avoid complex tables or figures in the diff, as they can cause issues. I had to create a fake old documents with final figures and table for latexdiff to return a usable output.</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
